<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Validacao Cadastro</title>
    <link rel="stylesheet" href="cadastro.css">
</head>

<body>
    
    <!-- A estilização está toda dentro do CSS, no geral só coloquei vermelho nas divs com o texto de erro e verde no texto de validação positiva -->

<container class="geral"> 
    
    Nome <br> <input oninput="Exibir()" type="text" id="input_nome" placeholder="informe o nome de sua empresa">
    <div id="div_nome"></div> <br> <!-- Div caso o nome corresponda aos requisitos -->
    <div id="div_nomeErrado"></div> <br> <!-- Div caso o nome não corresponda aos requisitos -->
    
    E-mail <br> <input oninput="Exibir()" type="text" id="input_email" placeholder="Informe seu e-mail"> 
    <div id="div_email"></div> <br> <!-- Div caso o email corresponda aos requisitos -->
    <div id="div_emailErrado"></div> <br> <!-- Div caso o email não corresponda aos requisitos -->
    
    CNPJ <br> <input oninput="Exibir()" type="text" id="input_cnpj" placeholder="Informe seu CNPJ"> 
    <div id="div_cnpj"></div> <br> <!-- Div caso o cnpj corresponda aos requisitos -->
    <div id="div_cnpjErrado"></div> <br> <!-- Div caso o CNPJ não corresponda aos requisitos -->
    
    Senha <br> <input oninput="Exibir()" type="password" id="input_senha" placeholder="Informe uma senha"> 
    <div id="div_senha"></div> <br> <!-- Div caso a senha corresponda aos requisitos -->
    <div id="div_senhaErrada"></div> <br> <!-- Div caso a senha não corresponda aos requisitos -->
    
    Confirmação senha <br> <input oninput="Exibir()" type="password" id="input_confirmacao" placeholder="Confirme a senha"> 
    <div id="div_confirmacao"></div> <br> <!-- Div caso a confirmação esteja igual a senha -->
    <div id="div_confirmacaoErrada"></div> <br> <!-- Div caso a confirmação esteja diferente da senha -->
    
</container>
    

<button onclick="Exibir()">Cadastrar </button> <br>


    
</body>
</html>

<script> 

// Div's fora da "funtion" para a mensagem já aparecer quando a tela carregar 
div_nomeErrado.innerHTML = `O nome deve conter mais de 7 caracteres`;
div_emailErrado.innerHTML = `Informe um e-mail válido`;
div_senhaErrada.innerHTML = `A senha deve conter mais de 8 caracteres e pelo menos um caracter especial`;
div_confirmacaoErrada.innerHTML = `Digite a senha novamente`;
div_cnpjErrado.innerHTML = `Informe um CNPJ válido`;


function Exibir(){
    var nome = input_nome.value;
    var email = input_email.value;
    var cnpj = input_cnpj.value;
    var senha = input_senha.value;
    var confirmacao = input_confirmacao.value;

// DIV's sem texto para limpar após executar a function

    div_nome.innerHTML = ``;
    div_email.innerHTML = ``;
    div_senha.innerHTML = ``;
    div_confirmacao.innerHTML = ``;
    div_cnpj.innerHTML = ``;
    

    div_nomeErrado.innerHTML = ``;
    div_emailErrado.innerHTML = ``;
    div_senhaErrada.innerHTML = ``;
    div_confirmacaoErrada.innerHTML = ``;
    div_cnpjErrado.innerHTML = ``;
    


    // O "Length" serve para saber o tamanho da palavra especificada antes do " . ", nesse caso o texto da variavel "nome"
        if (nome.length > 7){ 
            div_nome.innerHTML = `O nome é valido! <br>`
        } else {div_nomeErrado.innerHTML = `Informe um nome válido <br>`}


        
        
    // indexOf verifica se tem um dos caracteres especificados dentro do (), se a condição for verdadeira ela responde algo >= 0;
    // Nesse caso tambem usei o conector lógico && pois o email precisa ter o "@" e mais um sufixo (.com ou .br)
        if (email.indexOf('@') >= 0 &&
        (email.indexOf('.com') >= 0 ||
        email.indexOf('.br') >= 0)) {div_email.innerHTML = 'Email válido! <br>'}
        else {div_emailErrado.innerHTML = 'Informe um email válido! <br>'}
        
     
        if (cnpj.length == 18 &&
        (cnpj.indexOf('.') >= 0 &&
        cnpj.indexOf('-') >= 0)) {
        div_cnpj.innerHTML = `CNPJ Válido <br>`    
        } else {
        div_cnpjErrado.innerHTML = `Informe um CNPJ válido`    
        }
    
            
            if (senha.length >= 8 && 
                (senha.indexOf('#') >= 0
                || senha.indexOf('!') >= 0
                || senha.indexOf('@') >= 0
                || senha.indexOf('$') >= 0
                || senha.indexOf('%') >= 0
                || senha.indexOf('&') >= 0
                || senha.indexOf('*') >= 0)
                ) {
                    div_senha.innerHTML = `Sua senha é válida! <br>`
                }else {
                    div_senhaErrada.innerHTML = `Sua senha deve possuir ao menos 8 caracteres e pelo menos um caracter especial! <br>`
                }             
                    
                        
                        if(confirmacao == senha && confirmacao.length >= 8){
                            div_confirmacao.innerHTML = `Confirmacao válida! <br>`
                        } else {div_confirmacaoErrada.innerHTML = `A confirmação deve ser identica a senha! <br>`}   
                        
    }           



</script>